(kicad_sch (version 20211014) (generator eeschema)
  (paper "A4")
  (symbol "power:VCC" (tstamp 5a1a1b1c) (at 3 2 0) (unit 1) (in_bom yes) (on_board yes))
  (symbol "power:GND" (tstamp 5a1a1b1d) (at 3 1.5 0) (unit 1) (in_bom yes) (on_board yes))

  ; Arduino Nano (represented as a generic microcontroller symbol)
  (symbol "Device:U" (tstamp 5a1a1b2a) (at 6 4 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "U1" (id 0) (at 0 0) (effects "")
    )
    (property "Value" "Arduino_Nano" (id 1) (at 0 0) (effects ""))
    (pin 1 "D9" (number 1) (type passive) (shape line))
    (pin 2 "D10" (number 2) (type passive) (shape line))
    (pin 3 "D5" (number 3) (type passive) (shape line))
    (pin 4 "D6" (number 4) (type passive) (shape line))
    (pin 5 "A0" (number 5) (type passive) (shape line))
    (pin 6 "A1" (number 6) (type passive) (shape line))
    (pin 7 "D2" (number 7) (type passive) (shape line))
    (pin 8 "D13" (number 8) (type passive) (shape line))
  )

  ; IR2110 drivers (two instances)
  (symbol "Device:U" (tstamp 5a1a1b3a) (at 6 7 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "U2" (id 0) (at 0 0) (effects ""))
    (property "Value" "IR2110_A" (id 1) (at 0 0) (effects ""))
    (pin 1 "HIN" (number 1) (type passive) (shape line))
    (pin 2 "LIN" (number 2) (type passive) (shape line))
    (pin 3 "VB" (number 3) (type passive) (shape line))
    (pin 4 "VS" (number 4) (type passive) (shape line))
    (pin 5 "VCC" (number 5) (type power_in) (shape line))
    (pin 6 "COM" (number 6) (type power_in) (shape line))
  )

  (symbol "Device:U" (tstamp 5a1a1b3b) (at 8 7 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "U3" (id 0) (at 0 0) (effects ""))
    (property "Value" "IR2110_B" (id 1) (at 0 0) (effects ""))
    (pin 1 "HIN" (number 1) (type passive) (shape line))
    (pin 2 "LIN" (number 2) (type passive) (shape line))
    (pin 3 "VB" (number 3) (type passive) (shape line))
    (pin 4 "VS" (number 4) (type passive) (shape line))
    (pin 5 "VCC" (number 5) (type power_in) (shape line))
    (pin 6 "COM" (number 6) (type power_in) (shape line))
  )

  ; MOSFETs Q1-Q4
  (symbol "Device:Q" (tstamp 5a1a1b4a) (at 6 10 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "Q1" (id 0) (at 0 0) (effects ""))
    (property "Value" "QH_A (MOSFET)" (id 1) (at 0 0) (effects ""))
    (pin 1 "G" (number 1) (type passive) (shape line))
    (pin 2 "D" (number 2) (type passive) (shape line))
    (pin 3 "S" (number 3) (type passive) (shape line))
  )
  (symbol "Device:Q" (tstamp 5a1a1b4b) (at 7 10 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "Q2" (id 0) (at 0 0) (effects ""))
    (property "Value" "QL_A (MOSFET)" (id 1) (at 0 0) (effects ""))
    (pin 1 "G" (number 1) (type passive) (shape line))
    (pin 2 "D" (number 2) (type passive) (shape line))
    (pin 3 "S" (number 3) (type passive) (shape line))
  )
  (symbol "Device:Q" (tstamp 5a1a1b4c) (at 9 10 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "Q3" (id 0) (at 0 0) (effects ""))
    (property "Value" "QH_B (MOSFET)" (id 1) (at 0 0) (effects ""))
    (pin 1 "G" (number 1) (type passive) (shape line))
    (pin 2 "D" (number 2) (type passive) (shape line))
    (pin 3 "S" (number 3) (type passive) (shape line))
  )
  (symbol "Device:Q" (tstamp 5a1a1b4d) (at 10 10 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "Q4" (id 0) (at 0 0) (effects ""))
    (property "Value" "QL_B (MOSFET)" (id 1) (at 0 0) (effects ""))
    (pin 1 "G" (number 1) (type passive) (shape line))
    (pin 2 "D" (number 2) (type passive) (shape line))
    (pin 3 "S" (number 3) (type passive) (shape line))
  )

  ; Transformer (represented as generic component)
  (symbol "Device:T" (tstamp 5a1a1b5a) (at 11.5 9.5 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "T1" (id 0) (at 0 0) (effects ""))
    (property "Value" "Transformer_HF" (id 1) (at 0 0) (effects ""))
    (pin 1 "P1" (number 1) (type passive) (shape line))
    (pin 2 "P2" (number 2) (type passive) (shape line))
    (pin 3 "S1" (number 3) (type passive) (shape line))
    (pin 4 "S2" (number 4) (type passive) (shape line))
  )

  ; ACS712 current sensor and V divider (represented generically)
  (symbol "Device:R" (tstamp 5a1a1b6a) (at 3 9.5 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "ACS712" (id 0) (at 0 0) (effects ""))
    (property "Value" "Current_Sensor" (id 1) (at 0 0) (effects ""))
    (pin 1 "OUT" (number 1) (type passive) (shape line))
  )
  (symbol "Device:R" (tstamp 5a1a1b6b) (at 3 11 0) (unit 1) (in_bom yes) (on_board yes)
    (property "Reference" "R_DIV" (id 0) (at 0 0) (effects ""))
    (property "Value" "Voltage_Divider" (id 1) (at 0 0) (effects ""))
    (pin 1 "Vout" (number 1) (type passive) (shape line))
  )

  ; Nets (informal labels using labels)
  (net 1 "NET_BAT_POS")
  (net 2 "NET_GND")
  (net 3 "NET_5V")
  (net 4 "NODE_VA")
  (net 5 "NODE_VB")
  (net 6 "FILTER_IN")

  ; Labels connecting components (user will need to wire inside KiCad)
  (label "NET_BAT_POS" (at 4 6 0) (effects (font (size 1 1) (thickness 0.15))))
  (label "NET_GND" (at 3 1.5 0) (effects (font (size 1 1) (thickness 0.15))))
  (label "NET_5V" (at 5 2.5 0) (effects (font (size 1 1) (thickness 0.15))))
  (label "NODE_VA" (at 9 9.5 0) (effects (font (size 1 1) (thickness 0.15))))
  (label "NODE_VB" (at 11 9.5 0) (effects (font (size 1 1) (thickness 0.15))))
  (label "FILTER_IN" (at 12.5 9.5 0) (effects (font (size 1 1) (thickness 0.15))))
)\n